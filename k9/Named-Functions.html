<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- August 4, 2021

Copyright (C) 2020 John Estrada -->
<!-- Created by GNU Texinfo 6.7, http://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Named Functions (Shakti (k9) tutorial)</title>

<meta name="description" content="Named Functions (Shakti (k9) tutorial)">
<meta name="keywords" content="Named Functions (Shakti (k9) tutorial)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2any">
<link href="index.html" rel="start" title="Top">
<link href="index.html" rel="up" title="Top">
<link href="Knit-Functions.html" rel="next" title="Knit Functions">
<link href="Expression.html" rel="prev" title="Expression">
<style type="text/css">
<!--
/* spacing */


a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
.cartouche{
    border: none;
    background: lightgrey;
}

table, th, td{
  table-layout: auto;
  border-collapse: collapse;
  border: 1px solid blue;
  font-family: monospace; 
}

th, td {
  padding: 5px;     
  font-family: monospace; 
}

tr:nth-child(1) {
/*    background-color:lightsteelblue; // Replace it with your desired color */
}

.menu{
    border: none;
}

table.menu td{ 
    padding: 1px;
    border: none;
    font-family: sansserif;
}

table.menu th{ 
    padding: 1px;
    border: none;
    font-family: sansserif;
}




-->
</style>


</head>

<body lang="en">
<span id="Named-Functions"></span><div class="header">
<p>
Next: <a href="Knit-Functions.html" accesskey="n" rel="next">Knit Functions</a>, Previous: <a href="Expression.html" accesskey="p" rel="prev">Expression</a>, Up: <a href="index.html" accesskey="u" rel="up">Top</a> &nbsp; </p>
</div>
<hr>
<span id="Named-Functions-1"></span><h2 class="chapter">9 Named Functions</h2>
<p>This chapter covers the built-in  named functions.  This includes some math (eg. sqrt but not +), wrapper (eg. count for #) and range (eg. within) functions.
</p>
<div class="format">
<div class="example">
<pre class="example"><a href="#Hcount">count</a> <a href="#Hfirst">first</a> <a href="#Hlast">last</a> <a href="#Hmin">min</a> <a href="#Hmax">max</a> <a href="#Hsum">sum</a> <a href="#Hdot">dot</a> <a href="#avg">avg</a> <a href="#var">var</a> [dev med mode countd ..]
<a href="#sqrt">sqrt</a> <a href="#sqr">sqr</a> <a href="#exp">exp</a> <a href="#log">log</a> <a href="#sin">sin</a> <a href="#cos">cos</a> <a href="#div">div</a> <a href="#mod">mod</a> <a href="#bar">bar</a> <a href="#in">in</a> 
</pre></div>
</div>

<span id="Hcount"></span><span id="count-_21d2-count-x"></span><h3 class="section">9.1 count &rArr; count x</h3>
<p>Same as <a href="Verb.html#count">count</a>.
</p>
<div class="example">
<pre class="example"> count 5 1 2
3
</pre></div>

<span id="Hfirst"></span><span id="first-_21d2-first-x"></span><h3 class="section">9.2 first &rArr; first x</h3>
<p>Same as <a href="Verb.html#first">first</a>.
</p>
<div class="example">
<pre class="example"> first 5 1 2
5
</pre></div>

<span id="Hlast"></span><span id="last-_21d2-last-x"></span><h3 class="section">9.3 last &rArr; last x</h3>
<p>Retrieve the last element of list x.
</p>
<div class="example">
<pre class="example"> last 5 1 2
2
</pre></div>

<span id="Hmin"></span><span id="min-_21d2-min-x"></span><h3 class="section">9.4 min &rArr; min x</h3>
<p>Retrieve the minimum element of list x.  Same as <code>|/</code>.
</p>
<div class="example">
<pre class="example"> min 5 1 2
1
</pre></div>

<span id="Hmax"></span><span id="max-_21d2-max-x"></span><h3 class="section">9.5 max &rArr; max x</h3>
<p>Retrieve the maximum element of list x.  Same as <code>&amp;/</code>.
</p>
<div class="example">
<pre class="example"> max 5 1 2
5
</pre></div>

<span id="Hsum"></span><span id="sum-_21d2-sum-x"></span><h3 class="section">9.6 sum &rArr; sum x</h3>
<p>Compute the sum of list x.  Same as <code>+/</code>.
</p>
<div class="example">
<pre class="example"> sum 5 1 2
8
</pre></div>

<span id="Hdot"></span><span id="dot-_21d2-dot-x"></span><h3 class="section">9.7 dot &rArr; dot x</h3>
<p>Compute the dot product of list x.  Same as <code>+/x*x</code>.
</p>
<div class="example">
<pre class="example"> dot 1.2 1.3 1.4
5.09

 {+/x*x} 1.2 1.3 1.4
5.09
</pre></div>

<span id="avg"></span><span id="avg-_21d2-avg-x"></span><h3 class="section">9.8 avg &rArr; avg x</h3>
<p>Compute the average of list x.  Same as <code>+/x%#x</code>.
</p>
<div class="example">
<pre class="example"> avg 2 4 7 10
5.75

 {+/x%#x} 2 4 7 10
5.75
</pre></div>

<span id="var"></span><span id="var-_21d2-var-x"></span><h3 class="section">9.9 var &rArr; var x</h3>
<p>Compute the variance of list x.
</p>
<div class="example">
<pre class="example"> var !10
8.25

 {(+/x*x:x-avg x)%#x}@!10
8.25
</pre></div>

<span id="dev"></span><span id="dev-_21d2-dev-x"></span><h3 class="section">9.10 dev &rArr; dev x</h3>
<p>TBD
</p>
<span id="med"></span><span id="med-_21d2-med-x"></span><h3 class="section">9.11 med &rArr; med x</h3>
<p>TBD
</p>
<span id="mode"></span><span id="mode-_21d2-mode-x"></span><h3 class="section">9.12 mode &rArr; mode x</h3>
<p>TBD
</p>
<span id="countd"></span><span id="countd-_21d2-countd-x"></span><h3 class="section">9.13 countd &rArr; countd x</h3>
<p>TBD
</p>
<span id="exp"></span><span id="exp-_21d2-exp-x"></span><h3 class="section">9.14 exp &rArr; exp x</h3>
<p>Compute the exponent of x, i.e. e<sup>x</sup>.
</p>
<div class="example">
<pre class="example">&nbsp;exp 1
2.718282
</pre></div>

<span id="log"></span><span id="log-_21d2-log-x"></span><h3 class="section">9.15 log &rArr; log x</h3>
<p>Log computes the natural log.
</p>
<div class="example">
<pre class="example">&nbsp;log 10
2.302585
</pre></div>

<span id="sin"></span><span id="sin-_21d2-sin-x"></span><h3 class="section">9.16 sin &rArr; sin x</h3>
<p>sin computes the sine of x where x is in radians.
</p><div class="example">
<pre class="example">&nbsp;sin 0
0f
&nbsp;sin 3.1416%2
1.
</pre></div>

<span id="cos"></span><span id="cos-_21d2-cos-x"></span><h3 class="section">9.17 cos &rArr; cos x</h3>
<p>cos computes the cosine of x where x is in radians.
</p><div class="example">
<pre class="example">&nbsp;cos 0
1f
&nbsp;cos 3.1416%4
0.7071055
</pre></div>

<span id="sqr"></span><span id="sqr-_21d2-sqr-x"></span><h3 class="section">9.18 sqr &rArr; sqr x</h3>
<p>Compute the square of x.
</p>
<div class="example">
<pre class="example">&nbsp;sqr 2
4.0
</pre></div>

<span id="sqrt"></span><span id="sqrt-_21d2-sqrt-x"></span><h3 class="section">9.19 sqrt &rArr; sqrt x</h3>
<p>Compute the square root of x.
</p>
<div class="example">
<pre class="example">&nbsp;sqrt 2
1.414214
</pre></div>

<span id="prm"></span><span id="prm-_21d2-prm-x"></span><h3 class="section">9.20 prm &rArr; prm x</h3>
<p>Write out all permutations of integers up x-1. Display them as columns.
</p>
<div class="example">
<pre class="example"> prm 3
0 1 1 0 2 2
1 0 2 2 0 1
2 2 0 1 1 0
</pre></div>

<span id="freq"></span><span id="freq-_21d2-freq-x"></span><h3 class="section">9.21 freq &rArr; freq x</h3>
<p>Compute the frequency of the items in list x.
</p>
<div class="example">
<pre class="example"> freq &quot;abzccdefeajfekjrlke&quot;
a|2
b|1
c|2
d|1
e|4
f|2
j|2
k|2
l|1
r|1
z|1

 freq 1000 rand 10
0| 95
1|106
2| 84
3| 98
4|109
5|104
6| 94
7| 95
8|120
9| 95
</pre></div>

<span id="sums"></span><span id="sums-_21d2-sums-x"></span><h3 class="section">9.22 sums &rArr; sums x</h3>
<p>Compute the running sum of list x.  Sames as <code>+\</code>.
</p>
<div class="example">
<pre class="example"> sums !10
0 1 3 6 10 15 21 28 36 45
</pre></div>

<span id="deltas"></span><span id="deltas-_21d2-deltas-x-and-x-deltas-y"></span><h3 class="section">9.23 deltas &rArr; deltas x and x deltas y</h3>
<p>Compute the difference between each element in list x and the previous value.  If delta is called with two parameters then x will be used as the first value to delta instead of the default 0.
</p>
<div class="example">
<pre class="example"> deltas 1 5 10
1 4 5

 1 deltas 1 5 10
0 4 5
</pre></div>

<span id="rand"></span><span id="rand-_21d2-rand-x-or-x-rand-y"></span><h3 class="section">9.24 rand &rArr; rand x or x rand y</h3>
<p>Generate x random values using a uniform distribution from [0,1) or -x random values of a normal distribution (mean=0, standard deviation=1).
</p>
<div class="example">
<pre class="example"> rand 5  / uniform
0.9722755 0.8904738 0.4088624 0.1399796 0.1334422

 rand -5 / normal
1.008461 0.6204548 -1.206095 -0.7168573 -0.5728272
</pre></div>

<p>Generate x random values from element or list y.  For element y, y is the exclusive upper bound (int, float, date, or time), the type (character), or the length of each element (name).  For list y, rand choose between elements of the list.
</p>
<div class="example">
<pre class="example"> 5 rand 10 / values between 0 and 9
3 0 0 7 8

 4 rand &quot;a&quot; / values between &quot;A&quot; and &quot;P&quot;
&quot;OGFN&quot;

 4 rand `3 / name of length 3 using letters between &quot;A&quot; and &quot;P&quot;
`BFH`HKH`LOO`DAC

 5 rand 1 2
1 2 2 1 1

5 rand &quot;xy&quot;
&quot;yxxxy&quot;
</pre></div>

<span id="has"></span><span id="has-_21d2-x-has-y"></span><h3 class="section">9.25 has &rArr; x has y</h3>
<p>Determine whether vector x has element y. Simliar to <a href="#in">in</a> but with the arguments reversed.
</p>
<div class="example">
<pre class="example"> `a`b`c`a`b has `a
1b

`a`b`c`a`b has `d
0b

 `a`b`c`a`b has `a`b`x`y`z
11000b

 (1 2;4 5 6;7 9)has(1 2;8 9)
10b
</pre></div>

<span id="bin"></span><span id="bin-_21d2-x-bin-y"></span><h3 class="section">9.26 bin &rArr; x bin y</h3>
<p>Given a sorted (increasing) list x, find the greatest index, i, where y&gt;x[i].
</p>
<div class="example">
<pre class="example">&nbsp;n:exp 0.01*!5;n
1 1.01005 1.020201 1.030455 1.040811
&nbsp;1.025 bin n
2
</pre></div>

<span id="in"></span><span id="in-_21d2-x-in-y"></span><h3 class="section">9.27 in &rArr; x in y</h3>
<p>Determine if x is in list y.  Similar to <a href="#has">has</a> but arguments reversed.
</p>
<div class="example">
<pre class="example">&nbsp;`b in `a`b`d`e
1b
&nbsp;`c in `a`b`d`e
0b
</pre></div>

<span id="within"></span><span id="within-_21d2-x-within-y"></span><h3 class="section">9.28 within &rArr; x within y</h3>
<p>Test if x is equal to or greater than y[0] and less than y[1].
</p>
<div class="example">
<pre class="example"> 3 within 0 12
1b

0 within 0 12
1b

12 within 0 12
0b

23 within 0 12
0b
</pre></div>

<span id="div"></span><span id="div-_21d2-x-div-y"></span><h3 class="section">9.29 div &rArr; x div y</h3>
<p>y divided by x using integer division, taking the floor of the result.  x and y must be integers.
</p>
<div class="example">
<pre class="example">&nbsp;2 div 7
3
&nbsp;5 div 22
4
</pre></div>

<span id="mod"></span><span id="mod-_21d2-x-mod-y"></span><h3 class="section">9.30 mod &rArr; x mod y</h3>
<p>The remainder after y divided by x using integer division.  x and y must be integers.
</p>
<div class="example">
<pre class="example">&nbsp;12 mod 27
3
&nbsp;5 mod 22
2
</pre></div>

<span id="bar"></span><span id="bar-_21d2-x-bar-y"></span><h3 class="section">9.31 bar &rArr; x bar y</h3>
<p>For each value in y determine the maximum multiple of x that is less than or equal to each y.
</p>
<div class="example">
<pre class="example">&nbsp;10 bar 9 10 11 19 20 21
0 10 10 10 20 20
</pre></div>

<span id="cmb"></span><span id="cmb-_21d2-x-cmb-y"></span><h3 class="section">9.32 cmb &rArr; x cmb y</h3>
<p>Determine all x value combinations up to y. In this case these are ordered in ascending order from left to right.
</p>
<div class="example">
<pre class="example"> 3 cmb 5
2 3 4
1 3 4
1 2 4
1 2 3
0 3 4
0 2 4
0 2 3
0 1 4
0 1 3
0 1 2

 `a`b`c`d`e@3 cmb 5
`c`d`e
`b`d`e
`b`c`e
`b`c`d
`a`d`e
`a`c`e
`a`c`d
`a`b`e
`a`b`d
`a`b`c
</pre></div>

<span id="msum"></span><span id="msum-_21d2-x-msum-y"></span><h3 class="section">9.33 msum &rArr; x msum y</h3>
<p>Compute the length x  moving sum of list y.
</p>
<div class="example">
<pre class="example"> 3 msum !10
0 1 3 6 9 12 15 18 21 24
</pre></div>


<span id="mavg"></span><span id="mavg-_21d2-x-mavg-y"></span><h3 class="section">9.34 mavg &rArr; x mavg y</h3>
<p>Compute the length x  moving average of list y.
</p>
<div class="example">
<pre class="example"> 3 mavg !10
0 0.3333333 1 2 3 4 5 6 7 8
</pre></div>

<span id="topX"></span><span id="top-_21d2-top-x"></span><h3 class="section">9.35 top &rArr; top x</h3>
<p>Return the index of the max value of list x.
</p>
<div class="example">
<pre class="example"> top 3 13 15 1 17 0 -3
4

top &quot;abzccdefeajfekjrlke&quot;
2
</pre></div>

<span id="keyF"></span><span id="key-_21d2-x-key-y"></span><h3 class="section">9.36 key &rArr; x key y</h3>
<p>Key table y with x. That is, the values in the x column become the key values.
</p>
<div class="example">
<pre class="example"> `a key [[]a:`fa`fb;b:1 2]
a |b
--|-
fa|1
fb|2

 `a key [[]a:`fa`fb;b:((1 2 3); (4 5 6))]
a |b    
--|-----
fa|1 2 3
fb|4 5 6
</pre></div>

<span id="unkey"></span><span id="unkey-_21d2-unkey-x"></span><h3 class="section">9.37 unkey &rArr; unkey x</h3>
<p>Remove key from table x.
</p>
<div class="example">
<pre class="example"> unkey [[a:`x`y]b:1 2]
a b
- -
x 1
y 2
</pre></div>

<span id="meta"></span><span id="meta-_21d2-meta"></span><h3 class="section">9.38 meta &rArr; meta</h3>
<p>Determine the types of the fields in a table.
</p>
<div class="example">
<pre class="example"> meta [[]a:`x`y;b:1 2]
a|n
b|i
</pre></div>

<hr>
<div class="header">
<p>
Next: <a href="Knit-Functions.html" accesskey="n" rel="next">Knit Functions</a>, Previous: <a href="Expression.html" accesskey="p" rel="prev">Expression</a>, Up: <a href="index.html" accesskey="u" rel="up">Top</a> &nbsp; </p>
</div>



</body>
</html>
