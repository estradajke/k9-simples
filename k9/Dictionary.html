<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created by GNU Texinfo 6.8, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- February 4, 2022

Copyright (C) 2020 John Estrada -->
<title>Dictionary (Shakti (k9) tutorial)</title>

<meta name="description" content="k programming tutorial, Shakti (k9) tutorial">
<meta name="keywords" content="Dictionary (Shakti (k9) tutorial)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2any">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="index.html" rel="up" title="Top">
<link href="User-Functions.html" rel="next" title="User Functions">
<link href="List.html" rel="prev" title="List">
<style type="text/css">
<!--
/* spacing */


a.copiable-anchor {visibility: hidden; text-decoration: none; line-height: 0em}
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
span:hover a.copiable-anchor {visibility: visible}
ul.no-bullet {list-style: none}
.cartouche{
    border: none;
    background: lightgrey;
}

table, th, td{
  table-layout: auto;
  border-collapse: collapse;
  border: 1px solid blue;
  font-family: monospace; 
}

th, td {
  padding: 5px;     
  font-family: monospace; 
}

tr:nth-child(1) {
/*    background-color:lightsteelblue; // Replace it with your desired color */
}

.menu{
    border: none;
}

table.menu td{ 
    padding: 1px;
    border: none;
    font-family: sansserif;
}

table.menu th{ 
    padding: 1px;
    border: none;
    font-family: sansserif;
}




-->
</style>


</head>

<body lang="en">
<div class="chapter" id="Dictionary">
<div class="header">
<p>
Next: <a href="User-Functions.html" accesskey="n" rel="next">User-defined Functions</a>, Previous: <a href="List.html" accesskey="p" rel="prev">List</a>, Up: <a href="index.html" accesskey="u" rel="up">k9: Manual</a> &nbsp; </p>
</div>
<hr>
<span id="Dictionary-1"></span><h2 class="chapter">6 Dictionary</h2>
<p>Dictionaries are a data type of key-value pairs typically used to retrieve the value by using the key.  In other computer languages they are also known as associative arrays and maps.  Keys should be unique to avoid lookup value confusion but uniqueness is not enforced.  The values in the dictionary can be single elements, lists, tables, or even other dictionaries.
</p>
<p>Dictionaries in k9 are often used.  As an example from finance, market quotes and trade data are dictionaries of symbols (name keys) and market data (table values).  
</p>
<ul class="section-toc">
<li><a href="#Dictionary-Creation-_21d2-x_0021y-or-_005bx_003by_005d" accesskey="1">Dictionary Creation &rArr; x!y or [x;y]</a></li>
<li><a href="#Dictionary-Selection-_21d2-x_0023y-or-x_005fy" accesskey="2">Dictionary Selection &rArr; x#y or x_y</a></li>
<li><a href="#Dictionary-Join-_21d2-x_002cy" accesskey="3">Dictionary Join &rArr; x,y</a></li>
<li><a href="#Dictionary-Indexing-_21d2-x_0040y" accesskey="4">Dictionary Indexing &rArr; x@y</a></li>
<li><a href="#Dictionary-Key-_21d2-_0021x" accesskey="5">Dictionary Key &rArr; !x</a></li>
<li><a href="#Dictionary-Value-_21d2-x_005b_005d" accesskey="6">Dictionary Value &rArr; x[]</a></li>
<li><a href="#Sorting-a-Dictionary-by-Key-_21d2-_005ex" accesskey="7">Sorting a Dictionary by Key &rArr; ^x</a></li>
<li><a href="#Sorting-a-Dictionary-by-Value-_21d2-_003cx-_0028_003ex_0029" accesskey="8">Sorting a Dictionary by Value &rArr; &lt;x (&gt;x)</a></li>
<li><a href="#Flipping-a-Dictionary-into-a-Table-_21d2-_002bx" accesskey="9">Flipping a Dictionary into a Table &rArr; +x</a></li>
<li><a href="#Functions-that-operate-on-each-value-in-a-dictionary">Functions that operate on each value in a dictionary</a></li>
<li><a href="#Functions-that-return-over-values-from-a-dictionary">Functions that return over values from a dictionary</a></li>
</ul>
<div class="section" id="Dictionary-Creation-_21d2-x_0021y-or-_005bx_003by_005d">
<h3 class="section">6.1 Dictionary Creation &rArr; x!y or [x;y]</h3>

<p>Dictionaries are created by using the key symbol or square bracket notation and listing the keys (x) and values (y).  
</p>
<p><code>x!y</code>
</p>
<div class="example">
<pre class="example"> d0:`a37!12; d0                          / key is `a37 and value is 12
a37|12

 d1:`pi`e`c!3.14 2.72 3e8;d1             / three keys `pi, `e, `c
pi|3.14 
e |2.72 
c |3e+08

 `a`b`c!(1 2 3;10 20 30;100 200 300 499) / values are lists
a|1 2 3      
b|10 20 30   
c|100 200 300 499
</pre></div>

<p><code>[x:y]</code>
</p>
<div class="example">
<pre class="example"> d0:[a37:12]
a37|12

 d1:[pi:3.14;e:2.72;c:3e8];d1
pi|3.14
e |2.72
c |3e+08

 [a:1 2 3;b:10 20 30;c:100 200 300]
a|1 2 3      
b|10 20 30   
c|100 200 300
</pre></div>

<p>Often one will need to modify the data while building the dictionary.  User defined functions can easily accomplish this task.
</p>
<div class="example">
<pre class="example"> `x`sinX`cosX!{(x;sin y;cos z)} . 3#,0.1*(!62)
x   |0 0.1 0.2 0.3 0.4 0.5 0.6 0.7 0.8 0.9 1 1.1 ..
sinX|0 0.09983342 0.1986693 0.2955202 0.3894183 0..
cosX|1 0.9950042 0.9800666 0.9553365 0.921061 0.8..

</pre></div>

</div>
<div class="section" id="Dictionary-Selection-_21d2-x_0023y-or-x_005fy">
<h3 class="section">6.2 Dictionary Selection &rArr; x#y or x_y</h3>
<p>One can select a portion of a dictionary either by <a href="Verb.html#take">take</a> or <a href="Verb.html#drop">drop</a> which keeps and removes keys respectively.
</p>
<div class="example">
<pre class="example"> x:`a`b`c`d!4 2 3 1;x
a|4
b|2
c|3
d|1

 `b`c#x / take
b|2
c|3

 `b`c_x / drop
a|4
d|1
</pre></div>

</div>
<div class="section" id="Dictionary-Join-_21d2-x_002cy">
<h3 class="section">6.3 Dictionary Join &rArr; x,y</h3>
<p>This joins dictionaries together and the right or y dictionary will overwrite the left or x dictionary if common keys are present.
</p>
<div class="example">
<pre class="example"> d1:`a`b`c!3 2 1;d1
a|3
b|2
c|1

 d2:`c`d`e!90 80 70;d2
c|90
d|80
e|70

 ^d1,d2 / ^ sort by key
a| 3
b| 2
c|90
d|80
e|70

 ^d2,d1 / ^ sort by key
a| 3
b| 2
c| 1
d|80
e|70
</pre></div>

</div>
<div class="section" id="Dictionary-Indexing-_21d2-x_0040y">
<h3 class="section">6.4 Dictionary Indexing &rArr; x@y</h3>

<p>Dictionaries, like lists, can be key indexed in a number of ways.
</p>
<div class="example">
<pre class="example"> x:`a`b`c!(1 2;3 4;5 6);x
a|1 2
b|3 4
c|5 6

x@`a   / single index     
1 2

x@`a`c / multiple index   
1 2
5 6

/ all these notations for indexing work (output not shown)
 x@`b;  / at
 x(`b); / parenthesis
 x `b;  / space
 x[`b]; / square bracket
</pre></div>

</div>
<div class="section" id="Dictionary-Key-_21d2-_0021x">
<h3 class="section">6.5 Dictionary Key &rArr; !x</h3>
<p>The keys from a dictionary are retreived by using the ! function.
</p>
<div class="example">
<pre class="example">&nbsp;!d0
`pi`e`c
&nbsp;!d1
`time`temp
&nbsp;!d2
0 10 1
</pre></div>

</div>
<div class="section" id="Dictionary-Value-_21d2-x_005b_005d">
<h3 class="section">6.6 Dictionary Value &rArr; x[]</h3>
<p>The values from a dictionary are retrieved using bracket notation.
</p>
<div class="example">
<pre class="example"> d0[]
3.14 2.72 3e+08
 d1[]
12:00 12:01 12:10
25.   25.1  25.6 

 d2[]
37.4 46.3 0.1
</pre></div>

<p>One could return a specific value by indexing into a specific location.  As an example, in order to query the first value of the values associated with the key temp from d1, one would convert d1 into values (a pair of lists), and index that by [1;0]. 
</p>
<div class="example">
<pre class="example">&nbsp;d1
time|12:00 12:01 12:10
temp|25 25.1 25.6     

&nbsp;d1[]
12:00 12:01 12:10
25    25.1  25.6 

&nbsp;d1[][1]
25 25.1 25.6
&nbsp;d1[][1;0]
25.
</pre></div>

</div>
<div class="section" id="Sorting-a-Dictionary-by-Key-_21d2-_005ex">
<h3 class="section">6.7 Sorting a Dictionary by Key &rArr; ^x</h3>

<div class="example">
<pre class="example">&nbsp;d0
pi|3.14 
e |2.72 
c |3e+08

&nbsp;^d0
c |3e+08
e |2.72 
pi|3.14 
</pre></div>

</div>
<div class="section" id="Sorting-a-Dictionary-by-Value-_21d2-_003cx-_0028_003ex_0029">
<h3 class="section">6.8 Sorting a Dictionary by Value &rArr; &lt;x (&gt;x)</h3>

<div class="example">
<pre class="example">&nbsp;d0
pi|3.14 
e |2.72 
c |3e+08

&nbsp;&lt;d0
e |2.72 
pi|3.14 
c |3e+08

&nbsp;&gt;d0
c |3e+08
pi|3.14 
e |2.72 
</pre></div>

</div>
<div class="section" id="Flipping-a-Dictionary-into-a-Table-_21d2-_002bx">
<h3 class="section">6.9 Flipping a Dictionary into a Table &rArr; +x</h3>
<p>This command flips a dictionary into a table and will be covered in detail in the table chapter.
</p>
<div class="example">
<pre class="example"> d1
time|12:00 12:01 12:10
temp|25 25.1 25.6     

 +d1
time  temp
----- ----
12:00 25  
12:01 25.1
12:10 25.6

 d1~+d1
0b
</pre></div>

</div>
<div class="section" id="Functions-that-operate-on-each-value-in-a-dictionary">
<h3 class="section">6.10 Functions that operate on each value in a dictionary</h3>
<p>There are a number of simple functions on dictionaries that operate on their values.  If &rsquo;f&rsquo; is a function then f applied to a dictionary returns a dictionary with the same keys and the values resulting from the application of &rsquo;f&rsquo;.
</p>
<ul>
<li> <tt>-d : Negate</tt>
</li><li> <tt>d + N : Add N to d</tt>
</li><li> <tt>d - N : Subtract N from d</tt>
</li><li> <tt>d * N : Multiple d by N</tt>
</li><li> <tt>d % N : Divide d by N</tt>
</li><li> <tt>|d : Reverse</tt>
</li><li> <tt>&lt;d : Sort Ascending</tt>
</li><li> <tt>&gt;d : Sort Descending</tt>
</li><li> <tt>~d : Not d</tt>
</li><li> <tt>&amp;d : Given d:x!y output each x, y times, where y must be an integer</tt>
</li><li> <tt>=d : Given d:x!y y!x</tt>
</li></ul>

<p>Examples
</p><div class="example">
<pre class="example">&nbsp;d2
&nbsp;0|37.4
10|46.3
&nbsp;1|0.1 

&nbsp;-d2
&nbsp;0|-37.4
10|-46.3
&nbsp;1|-0.1 

&nbsp;d2+3
&nbsp;0|40.4
10|49.3
&nbsp;1|3.1 

&nbsp;d2-1.7
&nbsp;0|35.7
10|44.6
&nbsp;1|-1.6

&nbsp;d2*10
&nbsp;0|374
10|463
&nbsp;1|1  

&nbsp;d2%100
&nbsp;0|0.374
10|0.463
&nbsp;1|0.001
</pre></div>

</div>
<div class="section" id="Functions-that-return-over-values-from-a-dictionary">
<h3 class="section">6.11 Functions that return over values from a dictionary</h3>
<p>There are functions on dictionaries that operate over the values.  Given function f applied to a dictionary d, f d returns one or more values  without the original keys.
</p>
<ul>
<li> *d : First value
</li></ul>
<div class="example">
<pre class="example">&nbsp;d0
pi|3.14
e |2.72
c |3e+08

&nbsp;*d0
3.14
</pre></div>

</div>
</div>
<hr>
<div class="header">
<p>
Next: <a href="User-Functions.html">User-defined Functions</a>, Previous: <a href="List.html">List</a>, Up: <a href="index.html">k9: Manual</a> &nbsp; </p>
</div>



</body>
</html>
